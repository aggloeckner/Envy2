{{ block styles }}
	<style>
		dl.dl-horizontal {
  			display: grid;
  			grid-template-columns: max-content auto;
		}

		.dl-horizontal dt {
			margin-right: 10px;
		}
	</style>

	<style>
		.slidecontainer {
		  width: 50%; /* Width of the outside container */
		  display: flex;
		  flex-direction: row;
		  margin-bottom: 2em;
		}

		.slidecontainer .label-left {
			margin-right: 10px;
		}

		.slidecontainer .label-right {
			margin-left: 10px;
			width: 3em;
		}

		.RealEffortSliders {
			display: flex;
		}

		.SliderColumn {
			width: {{ column_width }}%;
		}
	</style>
{{ endblock }}

{{ block content }}

    <p>
        Vielen Dank, dass Sie unsere Studie unterstützen! Sie werden im Folgenden zufällig einer anderen Person
        zugeteilt, die wie Sie auch gerade an dieser Studie teilnimmt. Mit dieser Person (fortan Ihr Gegenüber genannt)
        werden Sie über den Computer in eine reale Interaktion treten. Die Höhe Ihrer Auszahlung hängt von den
        Entscheidungen in dieser Interaktion ab und variiert zwischen 2,50 € und 5,- €.<br><br>

        Die Interaktion ist komplett anonym. Zu keinem Zeitpunkt werden Sie oder Ihr Gegenüber erfahren, mit wem Sie
        interagiert haben. Sie und Ihr Gegenüber werden vollständig über die Regeln der Interaktion informiert auf Basis
        derer Sie und Ihr Gegenüber entscheiden.<br><br>

        <b>Zum Ablauf:</b><br><br>

        Die Interaktion gliedert sich in zwei Teile. Die folgende Graphik verdeutlicht den Ablauf:<br>

	    <img src="{{ static 'graphics/InstruktionenGrafik.svg' }}"><br>

        Zunächst werden Sie an einer Geschicklichkeitsaufgabe teilnehmen, bei der Sie innerhalb von 2 Minuten möglichst
        viele Schieberegler an eine bestimmte Position ziehen müssen. Ihr Gegenüber erhält die gleiche Aufgabe. Pro 10
        richtig platzierten Schiebereglern erhalten Sie ein Los in die Lostrommel, in der Ihre und die Lose Ihres
        Gegenübers gesammelt werden. Nach Ablauf der zwei Minuten wird zufällig ein Los gezogen, das den/die Gewinner/in
        bestimmt. Der/die <b>Gewinner/in erhält 5,- €</b>, die <b>andere Person lediglich 2,50 €</b>.<br><br>

        Zusammenfassend ist die Wahrscheinlichkeit, dass eines Ihrer Lose gezogen wird, umso größer, je mehr
        Schieberegler Sie im Vergleich zu Ihrem Gegenüber richtig ziehen. In dem Fall erhalten Sie die 5,- € und Ihr
        Gegenüber die 2,50 €. Wird hingegen ein Los Ihres Gegenübers gezogen, erhalten Sie lediglich 2,50 € und Ihr
        Gegenüber 5,- €.<br><br>

        Im zweiten Teil der Aufgabe (siehe rechten Teil der Graphik) hat die Person, die lediglich 2,50 € erhalten hat,
        dann die Möglichkeit, die Differenz in der Entlohnung zwischen sich und der anderen Person auszugleichen.
        Hierfür gibt es zwei voneinander unabhängige Möglichkeiten, von denen eine am Ende <b><i>zufällig ausgewählt</i></b>
        und <b><i>auszahlungswirksam umgesetzt</i></b> wird.<br><br>

        <b>Option 1:</b> Zum einen kann sie sich zusätzlich bis zu 2,50 € hinzuverdienen, indem sie weitere
        Schieberegler bearbeitet. Pro 10 richtig platzierte Schieberegler erhält sie dabei 10 Cent.<br><br>

        <b>Option 2:</b> Zum anderen kann die Person, die lediglich 2,50 € erhalten hat, bestimmen, ob bzw. wie viel
        Geld ihr Gegenüber von ihren 5,- € an die Versuchsleitung abgeben soll (zwischen 0,- € und 2,50 €).<br><br>
    </p>
    <p>
        Zu Übungs- und Anschauungszwecken sehen Sie unten stehend zwei Test-Schieberegler abgebildet. Ihre Aufgabe ist
        es mit der Maus den jeweiligen Schieberegler von der Startposition 0 auf die mittlere Position bei exakt 50 zu
        ziehen.
    </p>
    <div class="RealEffortSliders">
		<div class="SliderColumn">
			<div class="slidecontainer" style="margin-left: 10px;">
	  			<input type="range" min="0" max="100" value="0" class="slider" name="foo">
	  			<span class="label-right">0</span>
			</div>
			<div class="slidecontainer" style="margin-left: 10px;">
	  			<input type="range" min="0" max="100" value="0" class="slider" name="foo">
	  			<span class="label-right">0</span>
			</div>
		</div>
	</div>

    <p>
        Die folgende Anzahl an Schiebereglern haben bisherige Testpersonen innerhalb von 2 Minuten richtig positionieren können: <br>
        <i>XXX</i>
    </p>
    <p><b><i>
        Bitte klicken Sie auf „Weiter“. Ihnen wird im Folgenden eine andere Person als Gegenüber zugeordnet.
        Im Anschluss können Sie mit der Aufgabe beginnen.
    </i></b></p>

    {{ next_button }}

{{ endblock }}

{{ block scripts }}

	<script>

		var nSliders = 0;
		var sliderSolved;

		function allSolved() {
			for(i = 0; i < nSliders; i++) {
				if( !sliderSolved[i] ) {
					return false;
				}
			}
			return true;
		}

		function makeSliderListener(sli,sll, idx) {
			var ret = function() {
				sll.text( sli.val() )
				if(sli.val() == 50) {
					sliderSolved[idx] = true;
				} else {
					sliderSolved[idx] = false;
				}

				if(allSolved()) {
					$(".otree-btn-next").attr("disabled", false);
				} else {
					$(".otree-btn-next").attr("disabled", true);
				}
			};
			return ret;
		}

		function initSlider(cntr) {
			var slider_input = cntr.find("input");
			var slider_label = cntr.find("span");
			slider_input.on("input", makeSliderListener(slider_input, slider_label, nSliders) );
			nSliders++;
		}

		function initAllSliders(){
			$(".slidecontainer").each( function() { initSlider( $( this ) ); } );
			$(".otree-btn-next").attr("disabled", true);
			sliderSolved = new Array(nSliders);
			for( i=0; i < nSliders; i++) {
				sliderSolved[i] = false;
			}
			var ts = Math.round((new Date()).getTime() / 1000);
			$('input[name="realEffortStart_A"]').val(ts);
		}

		window.onload = initAllSliders;
	</script>
{{ endblock }}
